# Go Ethereum Backend

ä¸€ä¸ªç”¨ Go è¯­è¨€ç¼–å†™çš„å®Œæ•´ä»¥å¤ªåŠåç«¯æœåŠ¡ï¼Œæä¾›åŒºå—é“¾æ•°æ®æŸ¥è¯¢ã€äº¤æ˜“å‘é€å’Œæ™ºèƒ½åˆçº¦äº¤äº’åŠŸèƒ½ã€‚

## ğŸ¯ ä»»åŠ¡å®Œæˆæƒ…å†µ

### ä»»åŠ¡1: åŒºå—é“¾è¯»å†™ âœ…
- **ç¯å¢ƒæ­å»º**: Go è¯­è¨€ç¯å¢ƒã€go-ethereum åº“ã€Infura Sepolia API é…ç½®
- **æŸ¥è¯¢åŒºå—**: å®ç°è¯¦ç»†åŒºå—ä¿¡æ¯æŸ¥è¯¢ï¼ˆåŒºå—å·ã€å“ˆå¸Œã€æ—¶é—´æˆ³ã€äº¤æ˜“æ•°é‡ç­‰ï¼‰
- **å‘é€äº¤æ˜“**: äº¤æ˜“æ„é€ ã€ç­¾åã€å¹¿æ’­åŠŸèƒ½ï¼ˆéœ€è¦å®é™…ç§é’¥ï¼‰

### ä»»åŠ¡2: åˆçº¦ä»£ç ç”Ÿæˆ âœ…
- **æ™ºèƒ½åˆçº¦**: ç¼–å†™ Counter.sol è®¡æ•°å™¨åˆçº¦
- **abigenå·¥å…·**: å®‰è£…é…ç½®å¹¶ç”Ÿæˆ Go ç»‘å®šä»£ç 
- **åˆçº¦äº¤äº’**: å®ç°éƒ¨ç½²ã€è°ƒç”¨åˆçº¦æ–¹æ³•çš„åŠŸèƒ½

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### åŒºå—é“¾äº¤äº’
- âœ… ä»¥å¤ªåŠå®¢æˆ·ç«¯è¿æ¥ç®¡ç†ï¼ˆSepolia æµ‹è¯•ç½‘ç»œï¼‰
- âœ… åŒºå—ä¿¡æ¯æŸ¥è¯¢ï¼ˆæœ€æ–°åŒºå—ã€æŒ‡å®šåŒºå—ã€åŒºå—å¤´ï¼‰
- âœ… äº¤æ˜“åŠŸèƒ½ï¼ˆæ„é€ ã€ç­¾åã€å¹¿æ’­ï¼‰
- âœ… ç½‘ç»œçŠ¶æ€æŸ¥è¯¢ï¼ˆé“¾IDã€åŒºå—é«˜åº¦ã€Gasä»·æ ¼ï¼‰

### æ™ºèƒ½åˆçº¦
- âœ… Solidity æ™ºèƒ½åˆçº¦ç¼–å†™
- âœ… ABI å’Œå­—èŠ‚ç ç”Ÿæˆ
- âœ… Go ç»‘å®šä»£ç è‡ªåŠ¨ç”Ÿæˆ
- âœ… åˆçº¦éƒ¨ç½²å’Œäº¤äº’åŠŸèƒ½

### å¼€å‘å·¥å…·
- âœ… å®Œæ•´çš„ Makefile æ„å»ºç³»ç»Ÿ
- âœ… ç¤ºä¾‹æ¼”ç¤ºç¨‹åº
- âœ… åŠŸèƒ½æµ‹è¯•å¥—ä»¶
- âœ… æ¨¡å—åŒ–æ¶æ„è®¾è®¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
go-eth-backend/
â”œâ”€â”€ cmd/                       # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ main.go               # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ demo.go              # åŒºå—é“¾æ¼”ç¤ºç¨‹åº
â”‚   â””â”€â”€ test_all.go          # åŠŸèƒ½æµ‹è¯•ç¨‹åº
â”œâ”€â”€ internal/pkg/eth/         # ä»¥å¤ªåŠæ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ client.go            # ä»¥å¤ªåŠå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ block.go             # åŒºå—ç»“æ„å®šä¹‰
â”‚   â””â”€â”€ transaction.go       # äº¤æ˜“åŠŸèƒ½
â”œâ”€â”€ contracts/               # æ™ºèƒ½åˆçº¦
â”‚   â”œâ”€â”€ Counter.sol          # è®¡æ•°å™¨åˆçº¦æºç 
â”‚   â””â”€â”€ build/               # ç¼–è¯‘è¾“å‡º
â”‚       â”œâ”€â”€ Counter.abi      # åˆçº¦ABI
â”‚       â””â”€â”€ Counter.bin      # åˆçº¦å­—èŠ‚ç 
â”œâ”€â”€ pkg/eth/                 # å¯å¯¼å‡ºçš„åŒ…
â”‚   â””â”€â”€ counter.go           # ç”Ÿæˆçš„Goç»‘å®šä»£ç 
â”œâ”€â”€ scripts/                 # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ compile_sol.js       # åˆçº¦ç¼–è¯‘è„šæœ¬
â”œâ”€â”€ config.yaml              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ Makefile                 # æ„å»ºå·¥å…·
â””â”€â”€ README.md                # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…Goä¾èµ–
go mod tidy

# å®‰è£…abigenå·¥å…·
make abigen

# å®‰è£…Node.jsä¾èµ–ï¼ˆç”¨äºåˆçº¦ç¼–è¯‘ï¼‰
npm install
```

### è¿è¡Œç¨‹åº

```bash
# è¿è¡Œä¸»ç¨‹åº
make run

# è¿è¡ŒåŒºå—é“¾æ¼”ç¤ºç¨‹åº
make demo

# è¿è¡ŒåŠŸèƒ½æµ‹è¯•
make test-all

# ç¼–è¯‘æ™ºèƒ½åˆçº¦
make compile-contracts

# ç”ŸæˆGoç»‘å®šä»£ç 
make gen-bindings
```

### æ„å»ºå’Œæµ‹è¯•

```bash
# æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
make build

# è¿è¡Œå•å…ƒæµ‹è¯•
make test

# æ¸…ç†æ„å»ºæ–‡ä»¶
make clean
```

## ğŸ”§ é…ç½®è¯´æ˜

ç¼–è¾‘ `config.yaml` æ–‡ä»¶é…ç½®æ‚¨çš„åº”ç”¨ï¼š

- **ethereum.networks**: ä»¥å¤ªåŠç½‘ç»œé…ç½®ï¼ˆå·²é…ç½® Sepolia æµ‹è¯•ç½‘ç»œï¼‰
- å…¶ä»–é…ç½®å¯æ ¹æ®éœ€è¦æ·»åŠ 

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### æŸ¥è¯¢åŒºå—ä¿¡æ¯

```go
client, _ := eth.NewClient("https://sepolia.infura.io/v3/YOUR-PROJECT-ID")
block, _ := client.GetLatestBlock()
fmt.Printf("åŒºå—å·: %d, å“ˆå¸Œ: %s", block.Number, block.Hash)
```

### æ™ºèƒ½åˆçº¦äº¤äº’

```go
// åˆ›å»ºåˆçº¦å®ä¾‹
contract, _ := counter.NewCounter(contractAddress, client)

// è¯»å–åˆçº¦çŠ¶æ€
count, _ := contract.GetCount(nil)
fmt.Printf("å½“å‰è®¡æ•°å€¼: %d", count)

// è°ƒç”¨åˆçº¦æ–¹æ³•ï¼ˆéœ€è¦ç§é’¥ï¼‰
tx, _ := contract.Increment(auth)
fmt.Printf("äº¤æ˜“å“ˆå¸Œ: %s", tx.Hash().Hex())
```

## ğŸ§ª å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `internal/pkg/eth/` ç›®å½•ä¸‹æ·»åŠ æ–°çš„ Go æ–‡ä»¶
2. åœ¨ `cmd/` ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„æ¼”ç¤ºç¨‹åº
3. æ›´æ–° Makefile æ·»åŠ æ„å»ºç›®æ ‡
4. åœ¨ `tests/` ç›®å½•ä¸‹æ·»åŠ æµ‹è¯•ç”¨ä¾‹

### æ™ºèƒ½åˆçº¦å¼€å‘æµç¨‹

1. ç¼–å†™ Solidity åˆçº¦åˆ° `contracts/` ç›®å½•
2. è¿è¡Œ `make compile-contracts` ç¼–è¯‘åˆçº¦
3. è¿è¡Œ `make gen-bindings` ç”Ÿæˆ Go ç»‘å®šä»£ç 
4. åœ¨ Go ä»£ç ä¸­ä½¿ç”¨ç”Ÿæˆçš„ç»‘å®šä»£ç è¿›è¡Œäº¤äº’

## ğŸ“š ä¾èµ–åº“

- [go-ethereum](https://github.com/ethereum/go-ethereum) - ä»¥å¤ªåŠ Go å®¢æˆ·ç«¯åº“
- [solc](https://github.com/ethereum/solc-js) - Solidity ç¼–è¯‘å™¨

## ğŸ“„ è®¸å¯è¯

MIT License